!function(a,b){"use strict";var d=b(a.document),e=b(a),f=function(){var g,c=this,f=[],h=!1,i=new Date,j=!1,k=300,l=function(){i=new Date,j===!1&&(j=!0,setTimeout(n,k))},m=function(){var c=b(a).width();for(var d in f){var e=f[d];if(c>e.min&&c<=e.max&&g!=d)return g?q(g):o(d),p(d),g=d,void 0}},n=function(){new Date-i<k?setTimeout(n,k):(j=!1,d.trigger("vpm:change"))},o=function(a){var b=f[a].setup;r(b)},p=function(a){var b=f[a].enter;r(b)},q=function(a){var b=f[a].exit;r(b)},r=function(a){for(var b in a)a[b]()};c.current=function(){return g},c.init=function(){!1===h&&(h=!0,e.on("resize.vpm",l),d.on("vpm:change",m),m())},c.addView=function(a,b,c){f[a]={min:b,max:c||999999,enter:[],exit:[],setup:[]}},c.on=function(a,b,d){switch(b){case"setup":f[a].setup.push(d);break;case"enter":f[a].enter.push(d);break;case"exit":f[a].exit.push(d)}return c}};a.VPM=new f}(window,jQuery);
